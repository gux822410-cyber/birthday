<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>ç”Ÿæ—¥å¿«ä¹</title>

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  overflow:hidden;
  font-family:"Microsoft YaHei",sans-serif;
}

body{
  background:linear-gradient(-45deg,#0f2027,#203a43,#2c5364,#1c1c3c);
  background-size:400% 400%;
  animation:bgMove 15s ease infinite;
  color:#fff;
}

@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

canvas{
  position:fixed;
  top:0;left:0;
}

#text{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  text-align:center;
  white-space:pre-line;
  font-size:18px;
  line-height:1.9;
  pointer-events:none;
}

.name{
  font-size:22px;
  font-weight:bold;
  text-shadow:0 0 15px rgba(255,120,150,0.9);
}

/* ğŸµ æ’­æ”¾æŒ‰é’® */
#musicBtn{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  padding:10px 18px;
  background:rgba(0,0,0,0.4);
  border-radius:30px;
  font-size:14px;
  color:#fff;
  z-index:999;
}

@media (max-width:600px){
  #text{font-size:15px;}
}
</style>
</head>
<body>

<canvas id="c"></canvas>
<div id="text"></div>

<div id="musicBtn">ğŸµ ç‚¹æˆ‘æ’­æ”¾éŸ³ä¹</div>

<audio id="bgm" loop preload="auto"></audio>

<script>
/* ğŸµ è½»éŸ³ä¹ï¼ˆç¨³å®šæºï¼‰ */
const musicList=[
  "https://cdn.pixabay.com/audio/2022/10/30/audio_946b5a4e2b.mp3",
  "https://cdn.pixabay.com/audio/2022/03/15/audio_3b7b3f4e47.mp3",
  "https://cdn.pixabay.com/audio/2021/09/06/audio_6f3f8a5b9a.mp3"
];

const audio=document.getElementById("bgm");
audio.src=musicList[Math.floor(Math.random()*musicList.length)];
audio.volume=0.6;

const btn=document.getElementById("musicBtn");
btn.addEventListener("click",()=>{
  audio.play().then(()=>{
    btn.innerText="ğŸ¶ éŸ³ä¹æ’­æ”¾ä¸­";
    setTimeout(()=>btn.style.display="none",1500);
  }).catch(()=>alert("è¯·å†ç‚¹ä¸€æ¬¡"));
});

/* ===== ä»¥ä¸‹åŠ¨ç”»å’Œæ–‡å­—ä¸ä½ åŸæ¥ä¸€è‡´ ===== */
const canvas=document.getElementById("c");
const ctx=canvas.getContext("2d");
let w,h;

function resize(){
  w=canvas.width=window.innerWidth;
  h=canvas.height=window.innerHeight;
}
resize();
window.addEventListener("resize",resize);

let stars=[];
for(let i=0;i<200;i++){
  stars.push({x:Math.random()*w,y:Math.random()*h,r:Math.random()*1.5,a:Math.random()});
}

function draw(){
  requestAnimationFrame(draw);
  ctx.clearRect(0,0,w,h);
  stars.forEach(s=>{
    ctx.fillStyle=`rgba(255,255,255,${s.a})`;
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fill();
  });
}
draw();

const textBox=document.getElementById("text");
const lines=[
  '<span class="name">æ¨å°çª â¤</span>',
  '',
  'ä½ å·²ç»æ¥åˆ°è¿™ä¸ªä¸–ç•Œï¼š',
  timeText(),
  '',
  'æ„¿ä½ è¢«çˆ±åŒ…å›´',
  'æ„¿ä½ å¹³å®‰å–œä¹',
  'æ„¿ä½ å¿ƒæœ‰æ‰€å‘ï¼Œä¸‡äº‹æ— å¿§',
  'æ„¿ä½ ç”Ÿæ´»æ˜æœ—ï¼Œå…‰èŠ’ä¸‡ä¸ˆ'
];

function timeText(){
  const birth=new Date("1997/11/14").getTime();
  const now=Date.now();
  const t=Math.floor((now-birth)/1000);
  const d=Math.floor(t/86400);
  const h=Math.floor(t%86400/3600);
  const m=Math.floor(t%3600/60);
  const s=t%60;
  return `${d} å¤© ${h} å°æ—¶ ${m} åˆ† ${s} ç§’`;
}

let i=0,j=0,html="";
const rendered=lines.map(l=>l.replace('{{time}}',timeText()));

const timer=setInterval(()=>{
  if(i>=rendered.length){clearInterval(timer);return;}
  if(j<rendered[i].length){
    html+=rendered[i][j++];
  }else{
    html+="\n";
    i++;j=0;
  }
  textBox.innerHTML=html;
},40);
</script>

</body>
</html>
